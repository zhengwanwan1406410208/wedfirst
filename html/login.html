<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/login.css">
    <script src="../js/jquery.validate.min.js"></script>
    <script src="../js/validateform.js"></script>
    </head>
<body  onload="changeImg()">

                <div id="login_form">
                    <div class="title">
                       登录
                        <a href="javascript:;" title="关闭" class="close">×</a>
                    </div>
                    <form id="loginForm" action="../index.html" onsubmit="return check()">
                    <div id="form_widget">
                        <br>
                        <input type="text" placeholder="请输入账号" name="username "id="box_name" class="username" value="用户名" onfocus="this.value=''" onblur="if(this.value=='')this.value='用户名'"/>
                        <br>
                        <input type="password" placeholder="请输入密码" name="password" id="box_pass" class="password" value="password" onfocus="this.value=''" onblur="if(this.value=='')this.value='password'"/>
                        <br>
                       <input type="text" id="vcode" placeholder="验证码" value="验证码" onfocus="this.value=''" onblur="if(this.value=='')this.value='验证码'"/><span id="code" title="看不清，换一张"></span>
                      <div id="search_pass_link">
                            <a href="#">忘记密码？</a>
                        </div>
                       <input  type="submit" value="登录" class="btn" >
                    </div>
                    </form>
                </div>
<div class="title-mask"></div>

</body>
<script type="text/javascript">
    /*弹出登录框*/
    $(document).ready(function () {
        $('.button').click(function () {
            $('.title-mask').fadeIn(100);
            $('#login_form').slideDown(200);
        });
        $('.title .close').click(function () {
            $('.title-mask').fadeOut(100);
            $('#login_form').slideUp(200);
        });
    });
           var code;//声明一个变量用于存储生成的验证码
            document.getElementById("code").onclick=changeImg;
            function changeImg(){
                    //alert("换图片");
                    var arrays=new Array(
                           '1','2','3','4','5','6','7','8','9','0'
                         /*  'a','b','c','d','e','f','g','h','i','j',
                        'k','l','m','n','o','p','q','r','s','t',
                            'u','v','w','x','y','z',
                            'A','B','C','D','E','F','G','H','I','J',
                            'K','L','M','N','O','P','Q','R','S','T',
                            'U','V','W','X','Y','Z'*/
                   );
                    code='';//重新初始化验证码
                   //alert(arrays.length);
                    //随机从数组中获取四个元素组成验证码
                for(var i=0;i<4;i++){            //随机获取一个数组的下标
                    var r=parseInt(Math.random()*arrays.length);
                           code+=arrays[r];
                            //alert(arrays[r]);
                        }
                   //alert(code);
                   document.getElementById('code').innerHTML=code;//将验证码写入指定区域
                }

            //效验验证码(表单被提交时触发)
            function check(){
                    //获取用户输入的验证码
                    var input_code=document.getElementById('vcode').value;
                   //alert(input_code+"----"+code);
                    if(input_code.toLowerCase()==code.toLowerCase())
                       {
                           //验证码正确(表单提交)
                            return true;
                        }
                    alert("请输入正确的验证码!");
                   //验证码不正确,表单不允许提交
                   return false;
                }
        </script>

</html>